<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EV Technology Quiz - Mobile Friendly</title>
    <style>
        /* Mobile-first responsive design */
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .quiz-container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }
        
        .quiz-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .quiz-header h1 {
            margin: 0 0 10px 0;
            font-size: 24px;
            text-align: center;
        }
        
        .quiz-header p {
            margin: 0;
            text-align: center;
            opacity: 0.9;
            font-size: 14px;
        }
        
        /* Mobile Navigation */
        .mobile-nav {
            display: none;
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }
        
        .nav-select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
        }
        
        .question-number-mobile {
            display: none;
            text-align: center;
            padding: 10px;
            background: #f0f0f0;
            font-weight: bold;
            color: #667eea;
        }
        
        /* Main Content */
        .main-content {
            padding: 20px;
        }
        
        .question-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            line-height: 1.4;
            color: #333;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .option {
            padding: 16px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }
        
        .option:active {
            transform: scale(0.98);
        }
        
        .option.selected {
            background: #e3eeff;
            border-color: #667eea;
        }
        
        .option-letter {
            width: 32px;
            height: 32px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option.selected .option-letter {
            background: #667eea;
            color: white;
        }
        
        /* Progress Bar */
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s;
        }
        
        .progress-text {
            text-align: center;
            font-size: 14px;
            color: #666;
        }
        
        /* Buttons */
        .buttons-container {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }
        
        .quiz-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-prev {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #e0e0e0;
        }
        
        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-submit {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }
        
        .btn-restart {
            background: linear-gradient(135deg, #ff8a00 0%, #ffcc00 100%);
            color: white;
            width: 100%;
        }
        
        /* Results */
        .results-container {
            padding: 20px;
            display: none;
        }
        
        .score-container {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            color: #667eea;
            margin: 20px 0;
        }
        
        .score-text {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.5;
        }
        
        /* Review */
        .review-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .review-item.correct {
            border-left-color: #28a745;
        }
        
        .review-item.incorrect {
            border-left-color: #dc3545;
        }
        
        /* Media Queries */
        @media (max-width: 768px) {
            .mobile-nav {
                display: block;
            }
            
            .question-number-mobile {
                display: block;
            }
            
            .quiz-header h1 {
                font-size: 20px;
            }
            
            .question-text {
                font-size: 16px;
            }
            
            .option {
                padding: 14px;
            }
            
            .quiz-btn {
                padding: 12px;
                font-size: 14px;
            }
            
            .buttons-container {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .quiz-header {
                padding: 15px;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .option-letter {
                width: 28px;
                height: 28px;
                font-size: 14px;
            }
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        
        .toast.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- Header -->
        <div class="quiz-header">
            <h1>EV Technology Quiz</h1>
            <p>Swipe or use buttons to navigate</p>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="mobile-nav">
            <select class="nav-select" id="question-select">
                <option value="0">Select Question...</option>
            </select>
        </div>
        
        <div class="question-number-mobile" id="question-number-mobile">Question 1 of 60</div>
        
        <!-- Progress -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text" id="progress-text">0/60 answered</div>
        </div>
        
        <!-- Main Quiz Content -->
        <div class="main-content" id="main-content">
            <div class="question-text" id="question-text"></div>
            <div class="options-container" id="options-container"></div>
            
            <div class="buttons-container">
                <button class="quiz-btn btn-prev" id="prev-btn">Previous</button>
                <button class="quiz-btn btn-next" id="next-btn">Next</button>
            </div>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="results-container">
            <h2>Quiz Completed!</h2>
            <div class="score-container" id="score-container">0/60</div>
            <div class="score-text" id="score-text"></div>
            
            <button class="quiz-btn btn-restart" id="restart-btn">Restart Quiz</button>
            
            <div id="answers-review-container" style="margin-top: 30px;"></div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // All 60 questions
        const quizData = [
            {
                question: "What is the primary role of the Power Electronics (PC) system in an electric vehicle?",
                options: [
                    "To manage battery thermal management",
                    "To convert DC power into AC to drive the motor",
                    "To distribute high-voltage power to auxiliary systems",
                    "To control the regenerative braking energy recovery"
                ],
                correct: 1,
                explanation: "The Power Electronics system primarily converts DC battery power into AC to drive the electric motor."
            },
            {
                question: "Which component in the cooling system is specifically responsible for storing coolant?",
                options: [
                    "Radiator",
                    "TCP (Electric Pump)",
                    "Recenitor tank",
                    "Cooling fan"
                ],
                correct: 2,
                explanation: "The reservoir tank (sometimes called expansion tank) stores coolant and allows for expansion and contraction."
            },
            {
                question: "In thermal management, what distinguishes 'integrated mode' from 'separated mode'?",
                options: [
                    "Integrated mode controls HVAC and battery independently; separated mode controls them together",
                    "Integrated mode controls both HVAC and battery together; separated mode controls them independently",
                    "Integrated mode is only for heating; separated mode is only for cooling",
                    "Integrated mode uses air cooling; separated mode uses liquid cooling"
                ],
                correct: 1,
                explanation: "Integrated mode combines HVAC and battery thermal management for better efficiency, while separated mode treats them as separate systems."
            },
            {
                question: "What is the primary purpose of the coolant heater in an EV during winter?",
                options: [
                    "To warm the cabin for passenger comfort",
                    "To maintain the battery at an optimal temperature for performance and charging",
                    "To preheat the motor before starting",
                    "To cool the power electronics during high load"
                ],
                correct: 1,
                explanation: "The coolant heater maintains battery temperature in cold conditions to ensure optimal performance and charging capability."
            },
            {
                question: "Which safety feature is automatically activated in case of battery overheating?",
                options: [
                    "Pre-charge relay engagement",
                    "Cooling mode activation",
                    "Main relay cut-off",
                    "HVAC shutdown"
                ],
                correct: 1,
                explanation: "Cooling mode activation helps dissipate excess heat from the battery to prevent thermal runaway."
            },
            {
                question: "What is a key advantage of an integrated thermal management system?",
                options: [
                    "It requires less complex control algorithms",
                    "It improves overall energy efficiency",
                    "It allows independent operation in case of failure",
                    "It uses separate coolant loops for each system"
                ],
                correct: 1,
                explanation: "Integrated thermal management systems improve overall energy efficiency by optimizing heat transfer between components."
            },
            {
                question: "What does 'bootstrap safety' in battery systems primarily refer to?",
                options: [
                    "Multi-layer safety devices to prevent thermal runaway",
                    "A mechanical locking mechanism for high-voltage connectors",
                    "A software protocol for secure communication",
                    "An emergency braking system"
                ],
                correct: 0,
                explanation: "Bootstrap safety refers to multiple layers of safety devices designed to prevent thermal runaway in battery systems."
            },
            {
                question: "How does the thermal management system directly impact battery life?",
                options: [
                    "By increasing the voltage output during discharge",
                    "By maintaining optimal temperature to prevent degradation",
                    "By reducing the weight of the battery pack",
                    "By allowing faster charging at all times"
                ],
                correct: 1,
                explanation: "Maintaining optimal temperature prevents battery degradation, extending its lifespan and maintaining performance."
            },
            {
                question: "What is the function of the Power Relay Assembly (PRA) in an EV?",
                options: [
                    "To convert AC to DC for charging",
                    "To control power supply and cut-off between the high-voltage battery and the system",
                    "To manage the alternator output",
                    "To regulate the motor speed"
                ],
                correct: 1,
                explanation: "The PRA controls power flow between the high-voltage battery and the rest of the EV system, including safety cut-off."
            },
            {
                question: "In what sequence do the relays operate during EV system startup?",
                options: [
                    "Main relay â†’ Pre-charge relay â†’ PRA",
                    "Pre-charge relay â†’ Main relay â†’ PRA",
                    "PRA â†’ Main relay â†’ Pre-charge relay",
                    "PRA â†’ Pre-charge relay â†’ Main relay"
                ],
                correct: 1,
                explanation: "The pre-charge relay activates first to gradually charge capacitors, then the main relay closes, followed by PRA engagement."
            },
            {
                question: "What is the specific purpose of the pre-charge relay?",
                options: [
                    "To cut off high-voltage power in an emergency",
                    "To gradually apply voltage to charge capacitors before the main relay closes",
                    "To supply continuous power to the HVAC system",
                    "To regulate alternator field current"
                ],
                correct: 1,
                explanation: "The pre-charge relay gradually applies voltage to charge capacitors, preventing high inrush current when the main relay closes."
            },
            {
                question: "Which relay is installed on both the positive and negative terminals of the high-voltage battery?",
                options: [
                    "Pre-charge relay",
                    "Starting relay",
                    "Main relay",
                    "Inhibitor relay"
                ],
                correct: 2,
                explanation: "Main relays are typically installed on both battery terminals for complete circuit isolation."
            },
            {
                question: "What could happen if the main relay fails to operate before system startup?",
                options: [
                    "The battery may overcharge",
                    "Sparks or arcing could occur during current cut-off",
                    "The motor will run at reduced efficiency",
                    "The cooling system will not activate"
                ],
                correct: 1,
                explanation: "Without proper relay operation, high inrush current can cause arcing or sparking when connections are made."
            },
            {
                question: "What does the PRA include for battery protection?",
                options: [
                    "Fuses and contactors for overcurrent protection",
                    "A built-in cooling circuit",
                    "A voltage step-up converter",
                    "A communication module for BMS"
                ],
                correct: 0,
                explanation: "The PRA includes fuses and contactors to protect against overcurrent conditions."
            },
            {
                question: "During discharge of a lead-acid battery, what happens to the sulfuric acid concentration?",
                options: [
                    "It increases",
                    "It decreases",
                    "It remains constant",
                    "It turns into water"
                ],
                correct: 1,
                explanation: "During discharge, sulfuric acid is consumed, decreasing its concentration in the electrolyte."
            },
            {
                question: "What does the Reserve Capacity (RC) rating of a battery indicate?",
                options: [
                    "The current output at 0Â°F for 30 seconds",
                    "The time the battery can supply essential loads if the charging system fails",
                    "The total energy storage in watt-hours",
                    "The number of charge-discharge cycles"
                ],
                correct: 1,
                explanation: "RC indicates how long (in minutes) a battery can supply essential electrical loads if the charging system fails."
            },
            {
                question: "What principle does an alternator operate on?",
                options: [
                    "Electrochemical reaction",
                    "Electromagnetic induction",
                    "Thermoelectric effect",
                    "Piezoelectric effect"
                ],
                correct: 1,
                explanation: "Alternators generate electricity through electromagnetic induction - rotating a magnetic field past stationary coils."
            },
            {
                question: "Why are the three stator coils in an alternator placed 120 degrees apart?",
                options: [
                    "To reduce magnetic interference",
                    "To produce three-phase AC with a 120-degree phase difference",
                    "To increase mechanical stability",
                    "To allow single-phase output"
                ],
                correct: 1,
                explanation: "120-degree spacing creates three-phase AC power with balanced phase differences for efficient power generation."
            },
            {
                question: "Which component inside the alternator converts AC to DC?",
                options: [
                    "Regulator",
                    "Stator",
                    "Rotor",
                    "Rectifier (diodes)"
                ],
                correct: 3,
                explanation: "The rectifier, consisting of diodes, converts the alternator's AC output to DC for the vehicle's electrical system."
            },
            {
                question: "What is the role of the voltage regulator in an alternator?",
                options: [
                    "To convert AC to DC",
                    "To control field current to maintain stable output voltage",
                    "To cool the alternator windings",
                    "To communicate with the transmission control unit"
                ],
                correct: 1,
                explanation: "The voltage regulator controls the field current to maintain consistent output voltage regardless of engine speed or load."
            },
            {
                question: "Which alternator terminal is always directly connected to the battery?",
                options: [
                    "L terminal",
                    "FR terminal",
                    "B+ terminal",
                    "IG terminal"
                ],
                correct: 2,
                explanation: "The B+ terminal provides the main output and is directly connected to the battery positive terminal."
            },
            {
                question: "If the voltage regulator fails, what is a likely consequence?",
                options: [
                    "The battery may overcharge or discharge",
                    "The starter motor will not disengage",
                    "The HVAC system will stop working",
                    "The inhibitor switch will malfunction"
                ],
                correct: 0,
                explanation: "A failed regulator can cause overcharging (damaging battery) or undercharging (discharging battery)."
            },
            {
                question: "What does the FR terminal on an alternator communicate to the ECU?",
                options: [
                    "Battery voltage level",
                    "Alternator load condition for idle speed control",
                    "Field current status",
                    "Rotational speed of the rotor"
                ],
                correct: 1,
                explanation: "The FR terminal provides alternator load information to the ECU for idle speed adjustment."
            },
            {
                question: "How does a three-phase full-wave rectifier improve efficiency?",
                options: [
                    "By using only the positive half-cycles of AC",
                    "By using both positive and negative half-cycles of AC",
                    "By stepping up the voltage before rectification",
                    "By incorporating a cooling mechanism"
                ],
                correct: 1,
                explanation: "Full-wave rectification uses both half-cycles of AC, improving efficiency over half-wave rectification."
            },
            {
                question: "What is the correct sequence in a traditional key-type starting system?",
                options: [
                    "Solenoid energizes â†’ Ignition switch turned â†’ Starter motor engages â†’ Battery supplies current",
                    "Battery supplies current â†’ Ignition switch turned â†’ Solenoid closes â†’ Starter motor rotates",
                    "Starter motor rotates â†’ Solenoid engages â†’ Ignition switch turned â†’ Battery supplies current",
                    "Ignition switch turned â†’ Battery supplies current â†’ Solenoid engages â†’ Starter motor rotates"
                ],
                correct: 3,
                explanation: "Traditional sequence: Turn ignition â†’ Battery supplies current â†’ Solenoid engages â†’ Starter motor rotates."
            },
            {
                question: "In a push-button ignition system, what is required to start the engine?",
                options: [
                    "Press the brake and push the button",
                    "Press the clutch and push the button",
                    "Turn the key to ON and push the button",
                    "Press the accelerator and push the button"
                ],
                correct: 0,
                explanation: "Most push-button systems require brake pedal depression (and sometimes clutch in manuals) for safety."
            },
            {
                question: "What is the function of the inhibitor switch in an automatic transmission vehicle?",
                options: [
                    "To prevent battery overcharging",
                    "To allow starting only in Park (P) or Neutral (N)",
                    "To engage the starter relay when the ignition is on",
                    "To cut off fuel supply in case of a crash"
                ],
                correct: 1,
                explanation: "The inhibitor switch prevents starting in gear, allowing engine start only in Park or Neutral."
            },
            {
                question: "Which component in the starter motor reverses current direction in the armature windings?",
                options: [
                    "Brushes",
                    "Commutator",
                    "Field coil",
                    "Solenoid"
                ],
                correct: 1,
                explanation: "The commutator reverses current direction in armature windings as it rotates, maintaining torque in one direction."
            },
            {
                question: "What happens if the brushes in a starter motor are worn too short?",
                options: [
                    "The armature will overheat",
                    "The field coil will demagnetize",
                    "Current supply becomes unstable, reducing starting performance",
                    "The inhibitor switch will not engage"
                ],
                correct: 2,
                explanation: "Worn brushes cause poor electrical contact, leading to unstable current supply and reduced starting performance."
            },
            {
                question: "What is the primary role of the field coil in a starter motor?",
                options: [
                    "To rotate the armature",
                    "To generate a magnetic field that interacts with the armature",
                    "To supply current to the commutator",
                    "To engage the pinion gear with the flywheel"
                ],
                correct: 1,
                explanation: "Field coils create a magnetic field that interacts with the armature's magnetic field to produce rotational force."
            },
            {
                question: "What audible indication suggests a relay is operating correctly?",
                options: [
                    "Buzzing sound",
                    "Humming sound",
                    "Clicking sound",
                    "Whirring sound"
                ],
                correct: 2,
                explanation: "A distinct clicking sound indicates the relay coil is energizing and the contacts are closing properly."
            },
            {
                question: "In a starting relay, what do the two smaller terminals control?",
                options: [
                    "High-current contacts",
                    "The coil",
                    "The inhibitor switch circuit",
                    "The alternator field current"
                ],
                correct: 1,
                explanation: "The two smaller terminals control the relay coil, which when energized, closes the high-current contacts."
            },
            {
                question: "What is the primary function of the On-Board Charger (OBC)?",
                options: [
                    "To convert DC to AC for the motor",
                    "To convert AC from the grid to DC for the battery",
                    "To manage power distribution to high-voltage components",
                    "To control the motor speed"
                ],
                correct: 1,
                explanation: "The OBC converts AC power from the grid to DC power suitable for charging the EV battery."
            },
            {
                question: "Which charging method bypasses the OBC?",
                options: [
                    "Slow AC charging using a household outlet",
                    "Fast DC charging",
                    "AC charging with Type 1 connector",
                    "AC charging with Type 2 connector"
                ],
                correct: 1,
                explanation: "DC fast charging bypasses the OBC, providing DC power directly to the battery."
            },
            {
                question: "Which connector type is used for AC charging in North America and South Korea?",
                options: [
                    "Type 1",
                    "Type 2",
                    "CHAdeMO",
                    "CCS Combo"
                ],
                correct: 0,
                explanation: "Type 1 (SAE J1772) is the standard AC charging connector in North America and South Korea."
            },
            {
                question: "What does Control Pilot (CP) do in Type 1 and Type 2 charging?",
                options: [
                    "Converts AC to DC",
                    "Checks connection status and enables communication",
                    "Provides high-voltage DC power",
                    "Cools the battery during charging"
                ],
                correct: 1,
                explanation: "The Control Pilot line checks connection status, enables communication, and controls charging parameters."
            },
            {
                question: "Which fast-charging standard uses CAN communication and was developed in Japan?",
                options: [
                    "CCS (Combined Charging System)",
                    "Tesla Supercharger",
                    "CHAdeMO",
                    "GB/T"
                ],
                correct: 2,
                explanation: "CHAdeMO, developed in Japan, uses CAN bus communication between the EV and charging station."
            },
            {
                question: "What is a key disadvantage of fast charging compared to slow charging?",
                options: [
                    "It puts more stress on the battery and generates more heat",
                    "It is less convenient for long-distance driving",
                    "It requires a Type 1 connector",
                    "It cannot be used in cold weather"
                ],
                correct: 0,
                explanation: "Fast charging generates more heat and stress on battery cells, potentially reducing long-term battery life."
            },
            {
                question: "What does 'bidirectional charging' enable in the latest OBC technology?",
                options: [
                    "Charging from both AC and DC sources",
                    "Vehicle-to-grid (V2G) power flow",
                    "Simultaneous charging of multiple EVs",
                    "Faster charging without thermal management"
                ],
                correct: 1,
                explanation: "Bidirectional charging enables Vehicle-to-Grid (V2G) functionality, allowing EVs to supply power back to the grid."
            },
            {
                question: "Which motor type is mentioned as being mainly used in the latest EV technology?",
                options: [
                    "Induction motor",
                    "Brushed DC motor",
                    "Permanent magnet synchronous motor (PMSM)",
                    "Switched reluctance motor"
                ],
                correct: 2,
                explanation: "Permanent magnet synchronous motors (PMSM) are widely used in modern EVs for their high efficiency and power density."
            },
            {
                question: "In the power flow diagram, what does the green dotted line represent?",
                options: [
                    "Mechanical driving force to the wheels",
                    "Flow of AC power",
                    "Flow of DC power",
                    "Communication data between control units"
                ],
                correct: 3,
                explanation: "Green dotted lines typically represent communication/data flow between control units in vehicle system diagrams."
            },
            {
                question: "What is the role of the CPU (Electric Power Control Unit) in an EV?",
                options: [
                    "Only controls the motor output",
                    "Manages power flow between the battery and inverter and optimizes efficiency",
                    "Converts DC to AC for the motor",
                    "Distributes high-voltage power to components"
                ],
                correct: 1,
                explanation: "The CPU manages power flow between battery and inverter while optimizing overall system efficiency."
            },
            {
                question: "What is a primary function of the High Voltage Junction Block?",
                options: [
                    "To convert AC to DC",
                    "To contain safety fuses and distribute power",
                    "To cool the battery during fast charging",
                    "To regulate motor speed"
                ],
                correct: 1,
                explanation: "The High Voltage Junction Block contains fuses and distributes power to various high-voltage components."
            },
            {
                question: "Which component acts as the 'brain' of the EV system according to the notes?",
                options: [
                    "OBC",
                    "CPU",
                    "Inverter",
                    "BMS"
                ],
                correct: 1,
                explanation: "The CPU (Electric Power Control Unit) acts as the central brain managing the EV's power systems."
            },
            {
                question: "What safety measure is taken for high-voltage parts in an EV?",
                options: [
                    "They are painted blue",
                    "They are marked with orange color",
                    "They are insulated with rubber only",
                    "They are located in the cabin"
                ],
                correct: 1,
                explanation: "High-voltage components are marked with orange warning labels for safety identification."
            },
            {
                question: "Before working on high-voltage components, what must be done first?",
                options: [
                    "Activate the regenerative braking system",
                    "Disconnect the battery connections",
                    "Run the motor at low speed",
                    "Engage the parking brake only"
                ],
                correct: 1,
                explanation: "Always disconnect high-voltage battery connections first when working on EV components for safety."
            },
            {
                question: "What does the reserve capacity (RC) of a battery indicate?",
                options: [
                    "Cold cranking performance",
                    "How long the battery can supply power if the charging system fails",
                    "Total energy storage in ampere-hours",
                    "The number of charge cycles"
                ],
                correct: 1,
                explanation: "Reserve capacity indicates how long a battery can supply essential electrical loads if the charging system fails."
            },
            {
                question: "What is the purpose of the cooling fan in the thermal management system?",
                options: [
                    "To circulate coolant",
                    "To store coolant",
                    "To dissipate heat from the radiator",
                    "To cool the battery directly"
                ],
                correct: 2,
                explanation: "The cooling fan draws air through the radiator to dissipate heat from the coolant."
            },
            {
                question: "What does V2G technology enable?",
                options: [
                    "Vehicle-to-grid power exchange",
                    "Faster DC charging",
                    "Improved regenerative braking",
                    "Autonomous driving"
                ],
                correct: 0,
                explanation: "V2G (Vehicle-to-Grid) enables bidirectional power flow between EVs and the electrical grid."
            },
            {
                question: "In an EV, what is the role of the reducer?",
                options: [
                    "To convert electrical energy to mechanical energy",
                    "To decrease motor speed and increase torque",
                    "To manage power distribution",
                    "To convert DC to AC"
                ],
                correct: 1,
                explanation: "The reducer (gear reduction unit) decreases high motor RPM to usable wheel speed while increasing torque."
            },
            {
                question: "What is a key challenge of integrated thermal management systems?",
                options: [
                    "They require complex control algorithms",
                    "They are less energy efficient",
                    "They cannot operate independently in case of failure",
                    "They are heavier than separated systems"
                ],
                correct: 0,
                explanation: "Integrated systems require sophisticated control algorithms to manage multiple thermal loops efficiently."
            },
            {
                question: "What does the '60L' on a battery label refer to?",
                options: [
                    "Cold cranking amps",
                    "Reserve capacity in minutes",
                    "Battery size and type standard",
                    "Nominal voltage"
                ],
                correct: 2,
                explanation: "'60L' refers to a battery size/type standard indicating physical dimensions and terminal orientation."
            },
            {
                question: "What is the main advantage of using a relay in a starting circuit?",
                options: [
                    "It increases voltage",
                    "It allows a small current to control a large current",
                    "It converts AC to DC",
                    "It regulates battery temperature"
                ],
                correct: 1,
                explanation: "Relays allow low-current control circuits to safely operate high-current devices like starter motors."
            },
            {
                question: "What is the chemical reaction during discharge in a lead-acid battery?",
                options: [
                    "Pb + PbOâ‚‚ + 2Hâ‚‚SOâ‚„ â†’ 2PbSOâ‚„ + 2Hâ‚‚O",
                    "2PbSOâ‚„ + 2Hâ‚‚O â†’ Pb + PbOâ‚‚ + 2Hâ‚‚SOâ‚„",
                    "PbOâ‚‚ + Hâ‚‚O â†’ PbSOâ‚„ + Oâ‚‚",
                    "Pb + Hâ‚‚SOâ‚„ â†’ PbSOâ‚„ + Hâ‚‚"
                ],
                correct: 0,
                explanation: "During discharge: Lead + Lead dioxide + Sulfuric acid â†’ Lead sulfate + Water."
            },
            {
                question: "Which terminal on the alternator is connected to the charge warning lamp?",
                options: [
                    "B+ terminal",
                    "L terminal",
                    "FR terminal",
                    "S terminal"
                ],
                correct: 1,
                explanation: "The L terminal connects to the charge warning lamp on the dashboard."
            },
            {
                question: "What is the purpose of the S terminal on an alternator?",
                options: [
                    "To activate the voltage regulator",
                    "To detect battery voltage for regulation",
                    "To inform the ECU of alternator load",
                    "To supply field current"
                ],
                correct: 1,
                explanation: "The S terminal senses battery voltage for accurate voltage regulation."
            },
            {
                question: "In the context of EV charging, what does PLC stand for?",
                options: [
                    "Power Line Communication",
                    "Phase Load Control",
                    "Primary Load Converter",
                    "Pilot Link Check"
                ],
                correct: 0,
                explanation: "PLC (Power Line Communication) uses power lines for data transmission during EV charging."
            },
            {
                question: "What is a characteristic of Type 2 connectors?",
                options: [
                    "They use single-phase AC 240V",
                    "They are mainly used in North America",
                    "They use three-phase AC 230V",
                    "They are only for DC fast charging"
                ],
                correct: 2,
                explanation: "Type 2 (Mennekes) connectors support three-phase AC charging at 230V, common in Europe."
            },
            {
                question: "What does the BMS (Battery Management System) primarily do?",
                options: [
                    "Converts DC to AC",
                    "Manages battery thermal and electrical conditions",
                    "Controls the motor output",
                    "Distributes high-voltage power"
                ],
                correct: 1,
                explanation: "The BMS monitors and manages battery temperature, voltage, current, and state of charge."
            },
            {
                question: "What is a key safety feature of the High Voltage Junction Block?",
                options: [
                    "It converts AC to DC",
                    "It contains safety fuses to prevent overcurrent",
                    "It cools the battery during fast charging",
                    "It regulates motor speed"
                ],
                correct: 1,
                explanation: "The High Voltage Junction Block contains safety fuses that protect against overcurrent conditions."
            }
        ];
        
        // Quiz state
        let currentQuestion = 0;
        let userAnswers = new Array(60).fill(null);
        let quizCompleted = false;
        
        // DOM elements
        const questionSelect = document.getElementById('question-select');
        const questionNumberMobile = document.getElementById('question-number-mobile');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const mainContent = document.getElementById('main-content');
        const resultsContainer = document.getElementById('results-container');
        const scoreContainer = document.getElementById('score-container');
        const scoreText = document.getElementById('score-text');
        const restartBtn = document.getElementById('restart-btn');
        const answersReviewContainer = document.getElementById('answers-review-container');
        const toast = document.getElementById('toast');
        
        // Initialize
        function init() {
            // Populate question select
            quizData.forEach((q, i) => {
                const option = document.createElement('option');
                option.value = i;
                option.text = `Q${i + 1}: ${q.question.substring(0, 30)}...`;
                questionSelect.add(option);
            });
            
            loadQuestion();
            
            // Event listeners
            questionSelect.addEventListener('change', (e) => {
                currentQuestion = parseInt(e.target.value);
                loadQuestion();
            });
            
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', initQuiz);
            
            // Touch/swipe support
            let touchStartX = 0;
            let touchEndX = 0;
            
            mainContent.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            mainContent.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const diff = touchEndX - touchStartX;
                if (Math.abs(diff) > 50) { // Minimum swipe distance
                    if (diff > 0 && currentQuestion > 0) {
                        // Swipe right - previous
                        prevQuestion();
                    } else if (diff < 0 && currentQuestion < quizData.length - 1) {
                        // Swipe left - next
                        nextQuestion();
                    }
                }
            }
        }
        
        function loadQuestion() {
            // Update mobile display
            questionNumberMobile.textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
            questionSelect.value = currentQuestion;
            
            // Update question
            questionText.textContent = quizData[currentQuestion].question;
            
            // Clear and add options
            optionsContainer.innerHTML = '';
            const letters = ['A', 'B', 'C', 'D'];
            
            quizData[currentQuestion].options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                if (userAnswers[currentQuestion] === index) {
                    optionEl.classList.add('selected');
                }
                
                optionEl.innerHTML = `
                    <div class="option-letter">${letters[index]}</div>
                    <div>${option}</div>
                `;
                
                optionEl.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionEl);
            });
            
            // Update progress
            const answered = userAnswers.filter(a => a !== null).length;
            progressFill.style.width = `${(answered / quizData.length) * 100}%`;
            progressText.textContent = `${answered}/${quizData.length} answered`;
            
            // Update buttons
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === quizData.length - 1) {
                nextBtn.textContent = 'Submit Quiz';
                nextBtn.className = 'quiz-btn btn-submit';
            } else {
                nextBtn.textContent = 'Next';
                nextBtn.className = 'quiz-btn btn-next';
            }
        }
        
        function selectOption(index) {
            userAnswers[currentQuestion] = index;
            loadQuestion();
        }
        
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }
        
        function nextQuestion() {
            if (currentQuestion === quizData.length - 1) {
                showResults();
            } else {
                currentQuestion++;
                loadQuestion();
            }
        }
        
        function showResults() {
            let score = 0;
            quizData.forEach((q, i) => {
                if (userAnswers[i] === q.correct) score++;
            });
            
            scoreContainer.textContent = `${score}/${quizData.length}`;
            
            // Score message
            const percent = (score / quizData.length) * 100;
            let message = '';
            if (percent >= 90) message = 'Outstanding! ðŸŽ¯';
            else if (percent >= 70) message = 'Great job! ðŸ‘';
            else if (percent >= 50) message = 'Good effort! ðŸ’ª';
            else message = 'Keep studying! ðŸ“š';
            
            scoreText.textContent = `${message} You got ${score} out of ${quizData.length} correct (${percent.toFixed(1)}%)`;
            
            // Show review
            showAnswerReview();
            
            // Switch to results view
            mainContent.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            // Show toast
            showToast('Quiz submitted! Check your results below.');
        }
        
        function showAnswerReview() {
            answersReviewContainer.innerHTML = '<h3>Review Answers:</h3>';
            const letters = ['A', 'B', 'C', 'D'];
            
            quizData.forEach((q, i) => {
                const userAnswer = userAnswers[i];
                const isCorrect = userAnswer === q.correct;
                
                const item = document.createElement('div');
                item.className = `review-item ${isCorrect ? 'correct' : 'incorrect'}`;
                
                item.innerHTML = `
                    <strong>Q${i + 1}:</strong> ${q.question}
                    <div style="margin-top: 8px;">
                        Your answer: ${userAnswer !== null ? letters[userAnswer] + '. ' + q.options[userAnswer] : 'Not answered'}
                        ${!isCorrect && userAnswer !== null ? 
                            `<br>Correct answer: ${letters[q.correct]}. ${q.options[q.correct]}` : ''}
                    </div>
                    <div style="margin-top: 8px; font-size: 14px; color: #666;">
                        ${q.explanation}
                    </div>
                `;
                
                answersReviewContainer.appendChild(item);
            });
        }
        
        function initQuiz() {
            currentQuestion = 0;
            userAnswers = new Array(60).fill(null);
            quizCompleted = false;
            
            mainContent.style.display = 'block';
            resultsContainer.style.display = 'none';
            
            loadQuestion();
        }
        
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>